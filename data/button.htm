<!DOCTYPE html>
<html>
<body>

<h1>Bauwagen Auchtert</h1>
<img src="bauwagen.jpg" alt="logo" width="128" height="128" style="vertical-align:middle">

<input type = "button" onclick = "clickButton1()" value = "toggle" id = Button1>
<input type = "button" onclick = "clickButton2()" value = "toggle" id = Button2>  

<script>

function Werteliste (querystring) {
  if (querystring == '') return;
  var wertestring = querystring.slice(1);
  var paare = wertestring.split("&");
  var paar, name, wert;
  for (var i = 0; i < paare.length; i++) {
    paar = paare[i].split("=");
    name = paar[0];
    wert = paar[1];
    name = unescape(name).replace("+", " ");
    wert = unescape(wert).replace("+", " ");
    this[name] = wert;
  }
}
var liste = new Werteliste(location.search);


var buttonState1;
if (liste.B1 == "0") {
    document.getElementById("Button1").style = "background-color:red";
    buttonState1 = false;
} else if (liste.B1 == "1")
{
    document.getElementById("Button1").style = "background-color:green";
    buttonState1 = true;
} else
{
    document.getElementById("Button1").style = "background-color:red";
    buttonState1 = false;
}

var buttonState2;
if (liste.B2 == "0") {
    document.getElementById("Button2").style = "background-color:red";  
    buttonState2 = false; 
} else if (liste.B2 == "1")
{
    document.getElementById("Button2").style = "background-color:green";   
    buttonState2 = true; 
} else
{
    document.getElementById("Button2").style = "background-color:red";
    buttonState2 = false;
}

// document.getElementById("Button1").style = "background-color:red";

function clickButton1() {
    if (buttonState1){
        window.open(window.location.href.split('?')[0]+"/push?B1=0", "_self");
    } else 
    {
        window.open(window.location.href.split('?')[0]+"/push?B1=1", "_self");
    }    
}

function clickButton2() {
    if (buttonState2){
        window.open(window.location.href.split('?')[0]+"/push?B2=0", "_self");
    } else 
    {
        window.open(window.location.href.split('?')[0]+"/push?B2=1", "_self");
    }
}

</script> 

</body>
</html>